<?xml version="1.0" encoding="utf-8"?> 
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
 <title type="text">My Awesome Blog: Posts tagged 'linux'</title>
 <link rel="self" href="https://cwang.me/feeds/linux.atom.xml" />
 <link href="https://cwang.me/tags/linux.html" />
 <id>urn:https-cwang-me:-tags-linux-html</id>
 <updated>2015-05-31T01:24:21Z</updated>
 <entry>
  <title type="text">How to fix Atheros A8161 / Atheros Killer E2200 Ethernet in Linux</title>
  <link rel="alternate" href="https://cwang.me/blog/2015/05/30/how-to-fix-atheros-a8161-atheros-killer-e2200-ethernet-in-linux/?utm_source=linux&amp;utm_medium=Atom" />
  <id>urn:https-cwang-me:-blog-2015-05-30-how-to-fix-atheros-a8161-atheros-killer-e2200-ethernet-in-linux</id>
  <published>2015-05-31T01:24:21Z</published>
  <updated>2015-05-31T01:24:21Z</updated>
  <author>
   <name>The Unknown Author</name></author>
  <content type="html">&lt;html&gt;
&lt;p&gt;I just spent a significant number of hours trying to fix the Ethernet card in my MSI GS60 laptop on Ubuntu 15.04. Turns out there&amp;rsquo;s a &lt;a href="https://bugzilla.kernel.org/show_bug.cgi?id=70761"&gt;bug in the drivers&lt;/a&gt; that&amp;rsquo;s been around since February (!), and it&amp;rsquo;s still present on version 4.0.4 of the kernel. The workaround is to set the MTU to 8192. This works for both the A8161 and the E2200 card. Assuming you&amp;rsquo;re on eth0,&lt;/p&gt;

&lt;div class="brush: console"&gt;
 &lt;table class="sourcetable"&gt;
  &lt;tbody&gt;
   &lt;tr&gt;
    &lt;td class="linenos"&gt;
     &lt;div class="linenodiv"&gt;
      &lt;pre&gt;1&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;
    &lt;td class="code"&gt;
     &lt;div class="source"&gt;
      &lt;pre&gt;&lt;span class="go"&gt;sudo ifconfig eth0 mtu 8192&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;!-- more--&gt;

&lt;p&gt;Note that the &lt;a href="https://forum-en.msi.com/index.php?topic=168097.0"&gt;bug report&lt;/a&gt; is for the A8161 card. The MSI GS60 has the Killer E2200 card. &lt;code&gt;lspci&lt;/code&gt; (on Ubuntu 15.04, but likely any other distro) identifies it as&lt;/p&gt;

&lt;div class="brush: console"&gt;
 &lt;table class="sourcetable"&gt;
  &lt;tbody&gt;
   &lt;tr&gt;
    &lt;td class="linenos"&gt;
     &lt;div class="linenodiv"&gt;
      &lt;pre&gt;1
2&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;
    &lt;td class="code"&gt;
     &lt;div class="source"&gt;
      &lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; lspci &lt;span class="p"&gt;|&lt;/span&gt; grep -i net
&lt;span class="go"&gt;Ethernet controller: Qualcomm Atheros Killer E220x Gigabit Ethernet Controller (rev 13)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;But it turns out that &lt;a href="https://forum-en.msi.com/index.php?topic=168097.0"&gt;people have been using AR8161 drivers for this card on Windows&lt;/a&gt;. I guess the drivers for these cards are similar enough that the bug exists for the E2200, and the workaround works too.&lt;/p&gt;

&lt;p&gt;Hopefully this will save you a lot of trouble.&lt;/p&gt;&lt;/html&gt;</content></entry></feed>